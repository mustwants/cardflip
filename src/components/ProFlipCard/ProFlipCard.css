/* PATH: src/components/ProFlipCard/ProFlipCard.css */

/* === Stage === */
.pcard-stage{ display:grid; place-items:center; perspective:1200px; perspective-origin:50% 50%; }

/* detached shadow */
.pcard-shadow{
  position:absolute; width:520px; height:660px; border-radius:18px;
  background:radial-gradient(60% 30% at 50% 80%, rgba(0,0,0,.45), rgba(0,0,0,0) 70%);
  transform-origin:50% 50%; pointer-events:none; z-index:0; opacity:.65;
}

/* === Card (identical bounds) === */
.pcard{
  position:relative; width:520px; height:660px; border-radius:18px;
  transform-style:preserve-3d; transform-origin:50% 50%;
  background:var(--panel); color:var(--fg);
  box-shadow:0 36px 72px rgba(0,0,0,.45), inset 0 0 0 1px var(--line);
  z-index:1;
}
.pcard.is-animating{ pointer-events:none; }

/* faces */
.pcard-face{
  position:absolute; inset:0; border-radius:18px; overflow:hidden;
  backface-visibility:hidden; transform-style:preserve-3d; will-change:transform;
  display:grid; grid-template-rows:auto 1fr; isolation:isolate; background:var(--panel);
}
.pcard-front{ transform:rotateY(0deg) translateZ(1px); }
.pcard-back { transform:rotateY(180deg) translateZ(0px); }
.pcard[data-edge="true"] .pcard-face{ pointer-events:none; }

/* opaque plate */
.pcard-plate{ position:absolute; inset:0; background:var(--panel); z-index:1; }
.pcard-front>*:not(.pcard-plate), .pcard-back>*:not(.pcard-plate){ position:relative; z-index:2; }

/* === Banner + ribbon === */
.pcard{ --bannerH:86px; --ribbonH:6px; }
.pcard-banner-top{ position:absolute; left:0; right:0; top:0; height:var(--bannerH); background:#000; z-index:6; }
.pcard-banner-top::after{ content:""; position:absolute; left:0; right:0; bottom:0; height:var(--ribbonH); background:linear-gradient(90deg,#D1EE00,#74E4B8); z-index:7; transform:translateZ(0); }
.pcard-banner{
  position:absolute; inset:0; pointer-events:none; z-index:2;
  background:
    radial-gradient(900px 360px at -5% -20%, color-mix(in srgb,#D1EE00 20%, transparent), transparent 60%),
    radial-gradient(900px 360px at 110% 120%, color-mix(in srgb,#74E4B8 18%, transparent), transparent 60%);
}

/* tokens in banner */
.pcard-banner-tokens{
  position:absolute; inset:0 0 auto auto; height:var(--bannerH);
  display:flex; align-items:center; justify-content:flex-end;
  gap:min(2vw,16px); padding-right:min(3vw,20px);
}
.pcard-token{
  width:calc(var(--bannerH)*0.7); height:calc(var(--bannerH)*0.7);
  max-width:88px; max-height:88px; border-radius:999px; object-fit:contain; background:#fff;
  box-shadow:0 1px 3px rgba(0,0,0,.25), inset 0 0 0 1px var(--line);
}

/* === FRONT (kept) === */
.pcard-top{
  position:relative; top:calc((var(--bannerH) + var(--ribbonH)) - 260px);
  z-index:8; display:grid; grid-template-columns:120px 1fr 74px; gap:1px; align-items:center; padding:8px 16px;
}
.pcard-avatar-wrap{ position:relative; width:116px; height:116px; padding:3px; border-radius:999px; background:linear-gradient(135deg,#74E4B8,#D1EE00); display:grid; place-items:center; }
.pcard-avatar{ width:100%; height:100%; border-radius:999px; object-fit:cover; aspect-ratio:1/1; }

.pcard-avatar-arc{ position:absolute; inset:0; pointer-events:none; transform: none;                 /* prevent accidental flips */}
.pcard-avatar-arc .arc-stroke{ fill:none; stroke:#000; stroke-width:14; stroke-linecap:round; filter:drop-shadow(0 1px 0 rgba(255,255,255,.25)); vector-effect:non-scaling-stroke; }
.pcard-avatar-arc .arc-text{ font:700 12px/1 "Roboto Condensed","Roboto",system-ui; letter-spacing:.4px; fill:#fff; paint-order:stroke; stroke:#000; stroke-width:.5; }
.pcard-avatar-arc .arc-stroke{ vector-effect: non-scaling-stroke; }

.pcard-logo{ width:64px; height:64px; object-fit:contain; justify-self:end; border-radius:12px; padding:6px; background:color-mix(in srgb,var(--panel),var(--fg) 4%); box-shadow:0 8px 16px rgba(0,0,0,.22), inset 0 0 0 1px var(--line); }
.pcard-id{ min-width:0; }
.pcard-name{ margin:0; font:700 22px/1.2 "Roboto Condensed","Roboto",system-ui; }
.pcard-title{ margin:4px 0 0; font-size:13px; opacity:.9; }
.pcard-loc{ margin:2px 0 0; font-size:12px; opacity:.8; }
.pcard-website{ display:inline-block; margin-top:6px; font-size:12px; color:color-mix(in srgb,#74E4B8 70%,#235); }
.pcard-website:hover{ text-decoration:underline; }

.pcard-social{ display:flex; gap:8px; margin-top:8px; }
/* Social icon base */
.pcard-soc{
  display:grid;
  place-items:center;
  width:28px; height:28px;
  border-radius:8px;
  background:color-mix(in srgb,var(--panel),var(--fg) 8%);
  box-shadow:inset 0 0 0 1px var(--line);
  color: var(--fg);          /* SVGs use currentColor */
  filter: grayscale(1);
  opacity: .6;
}

/* Disabled or non-https */
.pcard-soc.is-disabled{
  opacity:.35;
  filter:grayscale(1);
  pointer-events:none;
}

/* Enable color only when https link is present */
a.pcard-soc[href^="https://"]{
  filter:none;
  opacity:1;
}

/* Brand colors */
a.pcard-soc.soc-facebook{  color:#1877F2; }
a.pcard-soc.soc-instagram{ color:#E4405F; }
a.pcard-soc.soc-linkedin{  color:#0A66C2; }
a.pcard-soc.soc-x{         color:#000000; }
a.pcard-soc.soc-bluesky{   color:#1185FE; }
a.pcard-soc.soc-pinterest{ color:#E60023; }
a.pcard-soc.soc-youtube{   color:#FF0000; }

/* FRONT body */
.pcard-body{ margin-top:-140px; padding:8px 16px 128px; display:grid; gap:12px; z-index:8; }
.pcard-cta-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:0; }
.pcard-about{ border-radius:12px; padding:12px; background:color-mix(in srgb,var(--panel),var(--fg) 4%); box-shadow:inset 0 0 0 1px var(--line); }
.pcard-about h4{ margin:0 0 6px; font:700 14px/1.2 "Roboto Condensed","Roboto",system-ui; }
.pcard-continued{ margin:.25rem 0 0; opacity:.7; font-size:12px; }

/* FRONT footer */
.pcard-footer{
  position:absolute; left:0; right:0; bottom:28px;
  display:flex; gap:12px; justify-content:center; align-items:center; z-index:9; padding:0 16px;
}

/* shared pill buttons */
.pcard-btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  height:36px; padding:0 18px; border-radius:999px; border:0; cursor:pointer;
  font:700 13px/1 system-ui,Segoe UI,Roboto,Arial; color:#061019; text-decoration:none;
  background:linear-gradient(135deg,#D1EE00,#74E4B8);
  box-shadow:0 14px 26px color-mix(in srgb,#74E4B8 35%,transparent), 0 2px 0 rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.55);
}
.pcard-btn.small{ height:30px; padding:0 12px; font-size:12px; }
.pcard-btn:hover{ filter:brightness(1.03); }
.pcard-btn:active{ transform:translateY(1px); }
.flip-btn[data-selected="true"]{ outline:2px solid #74E4B8; }

/* === BACK (alignment; no overlap) === */
.pcard-back-head{ z-index:8; }

/* top block under banner */
.pcard-back-name{ margin:calc(var(--bannerH) + var(--ribbonH) - 80px) 16px 0; font:700 20px/1.2 "Roboto Condensed","Roboto",system-ui; }
.pcard-back-title{ margin:2px 16px 0; font-size:13px; opacity:.9; }
.pcard-back-loc{ margin:0 16px 0; font-size:12px; opacity:.8; }

/* body with ample bottom padding so footer stack never collides */
.pcard-body--back{
  margin-top:-8px;
  padding:8px 16px 120px;
  display:grid; gap:12px; z-index:8;
}
.pcard-about-back{
  min-height:120px; border-radius:12px; padding:12px;
  background:color-mix(in srgb,var(--panel),var(--fg) 4%); box-shadow:inset 0 0 0 1px var(--line);
}

.pcard-back {
  position: relative;
}

.pcard-back .pcard-back-footer {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 78px !important;      /* 30px + 48px */
  transform: none !important;
  z-index: 40;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  row-gap: 6px;
  text-align: center;
  padding: 0 16px;
}

.pcard-back .pcard-sponsor{
  position: absolute;
  left: 0;
  right: 0;
  bottom: 78px;                /* 30px + 48px = 0.5" higher than old footer spacing */
  z-index: 40;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  text-align: center;
  padding: 0 16px;
}

/* style the actual label */
.pcard-back .pcard-sponsor-label{
  font: 700 13px/1.4 "Roboto Condensed","Roboto",system-ui;
  letter-spacing: .3px;
  opacity: .95;
  white-space: nowrap;
}

.pcard-sponsor {
  display: flex;
  justify-content: center;
  width: 100%;
}

.pcard-sponsor-logo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px 12px;
  border-radius: 10px;
  background: color-mix(in srgb, var(--panel), var(--fg) 4%);
  box-shadow: inset 0 0 0 1px var(--line);
}

.pcard-sponsor-logo img {
  height: 40px;
  max-width: 100%;
  object-fit: contain;
  display: block;
}

.pcard-actions {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 16px;
  z-index: 41;
  flex-wrap: wrap;
  padding: 0 16px;
}

.pcard-actions .pcard-btn {
  min-width: 160px;
  height: 40px;
  font-size: 14px;
  border-radius: 8px;
}

/* FORCE footer 0.5" higher on back face */
.pcard-back.pcard-face .pcard-back-footer{
  bottom: 78px !important;     /* 30px + 48px */
  transform: none !important;
}

@media (prefers-reduced-motion:reduce){ .pcard, .pcard-btn{ transition:none; } }

